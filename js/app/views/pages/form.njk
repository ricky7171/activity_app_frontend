{% extends "templates/index.njk" %}
{% set active_menu = 'activity' %}
{% block title %}Form{% endblock title %}

{% block content %}
<!-- Form -->
<div class="form-wrapper" style="display:none">
    <h3 class="mb-2">Add Activity</h3>
    <div id="demo_form" class="form form-add-activity">
        {% include "templates/components/activity-form.njk" %}
        <div class="form-group text-right">
            <button id="submit-btn" class="btn btn-primary ml-auto">Create Activity</button>
        </div>
    </div>
    {# </form> #}
</div>
<div class="table-responsive" style="display:none">
    <h3 class="mb-2">List Activity</h3>
    <table class="table data-table table-bordered" id="activity_table" data-show-toggle="true" data-expand-first="false" data-paging="true" data-paging-size="10" data-paging-position="center" data-filtering="true" data-sorting="true">
        <thead>
            <tr>
                <th>Type</th>
                <th>Title</th>
                <th>Value</th>
                <th>Target</th>
                <th>Color</th>
                <th class='description-column'>Description</th>
                <th class="action" style="width: 150px">Action</th>
            </tr>
        </thead>
        <tbody class="list-activity">
            <!-- template row activity -->
        </tbody>
    </table>
</div>

<div class="modal fade" id="modalEdit" tabindex="-1" role="dialog" aria-labelledby="modalEditLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalEditLabel">Edit Activity</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="edit_form" class="form">
                    {% include "templates/components/activity-form.njk" %}
                    <input type="hidden" name="activity_id" value=""/>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button id="btn-update-activity" type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

{% endblock content %}

{% block footer %}
<script type="text/template" data-template="row-activity">
    <tr>
        <td>${type}</td>
        <td>${title}</td>
        <td>${value}</td>
        <td>${target}</td>
        <td><span style="background-color: ${color}; color: ${textColor}; padding: 4px 10px; border: 1px solid; min-width: 85px; display: inline-block; text-align: center">${color}</span></td>
        <td>${description}</td>
        <td class="action">
            <button class="btn-edit-activity" activityId="${id}">Edit</button>
            <button class="btn-delete-activity" activityId="${id}">Delete</button>
        </td>
    </tr>
</script>
<script type="text/template" data-template="row-empty-content">
    <tr>
        <td colspan="5">
            {% include "templates/components/empty-box.njk" %}
        </td>
    </tr>
</script>
<script src="/js/app/pages/form.js"></script>
{% endblock footer %}